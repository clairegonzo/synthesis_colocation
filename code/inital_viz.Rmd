---
title: "Initial graphs"
author: 'By: Claire Gonzales'
date: "2/7/2022"
output: 
  html_document: 
    theme: lumen
---

### Overveiw

This document will outline initial visualizations from co-location synthesis data. Inital questions that this data will attempt to address are as follows:

- Is co-location research being conducted?
- Where is it being conducted?
- What are initial areas of opportunity being highlighted in the literature?
- What are some potential obstacles being highlighted in the literature? 


```{r setup, include=FALSE, message=FALSE, warning=FALSE}
knitr::opts_chunk$set(echo = FALSE, message=FALSE, warning=FALSE)

library(tidyverse)
library(here)
library(lubridate)
library(plotly)
library(DT)
```

### Reading in Data

```{r}

mydata <- read_csv(here("data", "Data_total_working_for_r.csv"))
  
```


```{r}
# I had to clean data again to put it in tidy format

types <- read_csv(here("data", "data_types_tidy.csv"))
```

### Data subsets

Subset to only look at year and types of co-location. 

```{r}
data_sub <- mydata %>% 
  select(first_author, year, country, aquaculture_present, wind_present, wave_present, tidal_present, other_present) %>% 
  group_by(year) %>% 
  summarize(count = n())
  

# wrangling to group by types of co-location

types_tidy <- types %>% 
  select(first_author, year, title, activity_present) %>% 
  mutate(activity_present = as.factor(activity_present)) %>% 
  group_by(activity_present) %>% 
  summarize(count = n()) %>% 
  arrange(-count) %>% 
  na.omit()
  
  

```


### Initial visualizations

```{r}
# count of publications over time

ggplot(data = data_sub, aes(x = year, y = count)) +
  geom_line(color = "darkgray") +
  theme_minimal()
```

```{r}
# types of co-location
### this needs to be fixed so that the data are in descending order. Not sure whats wrong

g2 <- ggplot(data = types_tidy, aes(x = activity_present, y = count)) +
  geom_col(fill = "darkgray")+
  theme_minimal()

ggplotly(g2)
```

